import { selectedKeys } from "./inventory"
import {
	black_wool,
	dirt,
	leaves,
	log,
	plank,
	playerBottom,
	playerTop,
	red_wool,
	sand,
	stone,
	white_wool as gray_wool,
} from "./keys"

const makeSelectedBitmap = (originalBmp: Bitmap): Bitmap => {
	let lines = originalBmp.trim().split("\n")

	console.log(lines)

	const horizontalHighlight = "6666666666666666"

	lines[0] = horizontalHighlight
	lines[lines.length - 1] = horizontalHighlight

	for (let i = 1; i < lines.length - 1; i++) {
		lines[i] = `6${lines[i].slice(1, lines[i].length - 1)}6`
	}

	return lines.join("\n") as Bitmap
}

const bitmapsMap = {
	[playerTop]: bitmap`
....CCCCCCCC....
....CCCCCCCC....
....99999999....
....99999999....
....92099029....
....99999999....
....99999999....
....99999999....
7777779999777777
7777777997777777
7777777777777777
7777777777777777
9999777777779999
9999777777779999
9999777777779999
9999777777779999`,
	[playerBottom]: bitmap`
9999777777779999
9999777777779999
9999555555779999
9999555555579999
....55555555....
....55555555....
....55555555....
....55555555....
....55555555....
....55555555....
....55555555....
....55555555....
....55555555....
....55555555....
....00000000....
....00000000....`,
	[dirt]: bitmap`
44DD4DDD44DD4D44
44444C44DD444444
4C444C4C4444C44C
CCCC4CCC4C4CCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCC`,
	[stone]: bitmap`
LLLLLL1101LLLLLL
LL1111LLL1110LLL
L0LL0LLL10LLLLLL
L1LLL0L1LLLLLLLL
L11LLLLLLL111110
00LLLLLLL0LLLL0L
11LLLLLLLLLL1110
LLLLLLLLL0LLLLLL
L1101LLLL1111111
LLLLLLLL0LLLLL1L
LL1LL11L0L111LLL
0LLLLLLL11LLL110
LLLLLLLL11LLLLLL
L11111LLLL0LLL11
LLLLLLLLLL11LLLL
LLLL011LLLLLLLLL`,
	[plank]: bitmap`
FFFFFFFFFFFFFFFF
FFFCFFFFFFFFFFFF
FFFFFFFFFFFFCFFF
CCCCCCCCCCCCCCCC
FFFFFFFFFFFCFFFF
FFCFFFFFFFFFFFFF
FFFFFFFFFFCFFFFF
CCCCCCCCCCCCCCCC
FFFFCFFFFFFFFFFF
FFFFFFFFFFFCFFFF
FFFFFFFFFFFFFFFF
CCCCCCCCCCCCCCCC
FFFFFFFFFFFFFCFF
FFCFFFFFFFFFFFFF
FFFFFFFFFFFFFFFF
CCCCCCCCCCCCCCCC`,
	[sand]: bitmap`
6666666666666626
66666F6666626666
6666666666666662
666666666F66666F
F66626666666666F
F66F6F666266666F
6666666666626666
6666666266666626
6666666662F66666
F66F6F6666666666
6666666666666266
F666666666266666
66666666F6666666
6666F66666666666
66666666666F6666
6666626666666666`,
	[log]: bitmap`
C0CCC0CC0CCCCCCC
C0CC00C0CC0CC0C0
C0CC0CC0CC0CC0C0
0C0C0CC0CC0CC0C0
CC0CCCCCCC0CC0C0
CCCCCCCCCC0CC0C0
0CC0CCCC0C0C00C0
CCC0CC0C0C0C0CC0
CCC0CC0C0C0C0CC0
CCC0CCC0CC0C0CC0
C0C0CCC0C0CC0CC0
C0C0CCC0C0CC0CC0
00C0CCC0C0CC0CC0
00CCCCC0CCCC0CCC
C0CC0CC00CCC0CC0
CCCC0CCC0CCC0CCC`,
	[leaves]: bitmap`
4.4D4.4.4.4..444
D4.4.4.D4D.44D.4
4.D4D4.4444D4.4.
..44..4D4D4444.4
.4D4D4D444D4D4..
...4..4.4444444.
.D...D4D.4D4D44.
4D4.4444...4....
.4.44D4D4.D....4
D4D....44.D4..44
444..D4...44444.
D4D44D444D4D.4..
.4..4.4.4444...D
4..D.D44.D4D444D
44...44D.4.4.44.
D44D4D4D444.4D.4`,
	[gray_wool]: bitmap`
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111`,
	[red_wool]: bitmap`
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333
3333333333333333`,
	[black_wool]: bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000`,
}

const verbatim = Object.entries(bitmapsMap)
const selected: [Key, Bitmap][] = verbatim.flatMap(([key, bmp]) =>
	key in selectedKeys ? [[selectedKeys[key], makeSelectedBitmap(bmp)]] : []
)

console.log(typeof selected)

export const bitmaps: [Key, Bitmap][] = [...verbatim, ...selected]
